!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}(self.webpackChunkionic_timer=self.webpackChunkionic_timer||[]).push([[6282],{9771:function(e,o,i){"use strict";i.r(o),i.d(o,{TabataPageModule:function(){return _}});var s,r,a=i(8583),c=i(665),l=i(2593),u=i(1323),p=i(4762),d=i(945),f=i(8307),g=i(8720),h=function(){var e=function(){function e(n){t(this,e),this.modalCtrl=n}return n(e,[{key:"onDismiss",value:function(){this.modalCtrl.dismiss()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(l.IN))},e.\u0275cmp=g.Xpm({type:e,selectors:[["ng-component"]],decls:8,vars:1,consts:[["slot","primary"],[3,"click"],["name","close","slot","icon-only"],[3,"fullscreen"]],template:function(t,e){1&t&&(g.TgZ(0,"ion-header"),g.TgZ(1,"ion-toolbar"),g.TgZ(2,"ion-title"),g._uU(3,"New Tabata"),g.qZA(),g.TgZ(4,"ion-buttons",0),g.TgZ(5,"ion-button",1),g.NdJ("click",function(){return e.onDismiss()}),g._UZ(6,"ion-icon",2),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g._UZ(7,"ion-content",3)),2&t&&(g.xp6(7),g.Q6J("fullscreen",!0))},directives:[l.Gu,l.sr,l.wd,l.Sm,l.YG,l.gu,l.W2],encapsulation:2}),e}(),m=(function(t){t.getReady="Get ready",t.work="Work",t.rest="Rest",t.done="Done"}(m||(m={})),m),Z=(function(t){t[t.getReady=0]="getReady",t[t.work=1]="work",t[t.rest=2]="rest"}(Z||(Z={})),Z),y=i(996),T=i(5161),k=[{path:"",component:(s=function(){function e(n){t(this,e),this.modalCtrl=n,this.round=1,this.clock=10,this.timeElapsed=0,this.pause=!0,this.isBlocked=!1,this.initialRounds=8,this.isDone=!1,this.intervalTypeTextColor="warning-color",this._initialClock=this.clock,this.TAP_SOUND="../../assets/sounds/button-50.mp3"}return n(e,[{key:"ngOnInit",value:function(){this._audio=new Audio(this.TAP_SOUND),this.textInfo=m.getReady,this.intervalType=Z.getReady}},{key:"ionViewDidLeave",value:function(){this.onReset()}},{key:"ngOnDestroy",value:function(){this.onReset()}},{key:"onCreateTabata",value:function(){var t=this;this.onReset(),this.modalCtrl.create({keyboardClose:!0,component:h,id:"createTimer"}).then(function(e){return(0,p.mG)(t,void 0,void 0,regeneratorRuntime.mark(function t(){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.present(),this.pause=!0,t.next=3,e.onWillDismiss();case 3:n=t.sent,(o=n.data)&&(console.log("data: ",o),this._initialClock=o.timer,this.initialRounds=o.rounds,this.clock=o.timer);case 6:case"end":return t.stop()}},t,this)}))})}},{key:"onToggle",value:function(t){var e=this;this.pause=t,t?this.intervalObs$.unsubscribe():this.intervalObs$=(0,d.F)(1e3).pipe((0,f.b)(function(){e.clock--,e.timeElapsed++,e.clock>=1&&e.clock<=3&&e._playSound(),e.clock<1&&e.intervalType===Z.rest&&e._roundsCount(),(e.intervalType===Z.getReady||e.intervalType===Z.rest)&&e.clock<1?(e.textInfo=m.work,e.intervalType=Z.work,e.clock=20,e.intervalTypeTextColor="primary-color"):e.intervalType===Z.work&&e.clock<1&&(e.textInfo=m.rest,e.intervalType=Z.rest,e.clock=10,e.intervalTypeTextColor="success-color"),console.log(e.clock)})).subscribe(function(){})}},{key:"onReset",value:function(){this.intervalObs$&&this.intervalObs$.unsubscribe(),this.pause=!0,this.isBlocked=!1,this.clock=this._initialClock,this.round=1,this.timeElapsed=0,this.intervalType=Z.getReady,this.textInfo=m.getReady,this.intervalTypeTextColor="warning-color"}},{key:"_playSound",value:function(){this._audio.play()}},{key:"_roundsCount",value:function(){this.round<this.initialRounds?this.round++:(this.intervalObs$.unsubscribe(),this.textInfo=m.done,this.pause=!0,this.isBlocked=!0)}}]),e}(),s.\u0275fac=function(t){return new(t||s)(g.Y36(l.IN))},s.\u0275cmp=g.Xpm({type:s,selectors:[["app-tabata"]],decls:31,vars:13,consts:[[3,"fullscreen"],[1,"grid","ion-text-center","grid"],[1,"row","ion-align-items-center"],["size","12","size-sm","6","offset-sm","3"],[1,"text"],[1,"text__sm"],["size","12"],[1,"text",3,"ngClass"],["size","12","size-sm","6","offset-sm","3",1,"ion-padding-vertical"],[3,"isBlocked","pause","toggle","reset"]],template:function(t,e){1&t&&(g.TgZ(0,"ion-header"),g.TgZ(1,"ion-toolbar"),g.TgZ(2,"ion-title"),g._uU(3,"Tabata"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(4,"ion-content",0),g.TgZ(5,"ion-grid",1),g.TgZ(6,"ion-row",2),g.TgZ(7,"ion-col",3),g.TgZ(8,"p",4),g._uU(9),g.ALo(10,"timeFormat"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(11,"ion-row",2),g.TgZ(12,"ion-col",3),g.TgZ(13,"p",5),g._uU(14),g.ALo(15,"timeFormat"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(16,"ion-row",2),g.TgZ(17,"ion-col",6),g.TgZ(18,"p",7),g._uU(19),g.qZA(),g.qZA(),g.qZA(),g.TgZ(20,"ion-row",2),g.TgZ(21,"ion-col",3),g.TgZ(22,"p",4),g._uU(23,"Round"),g.qZA(),g.TgZ(24,"p",4),g._uU(25),g.TgZ(26,"span"),g._uU(27),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(28,"ion-row"),g.TgZ(29,"ion-col",8),g.TgZ(30,"player-controls",9),g.NdJ("toggle",function(t){return e.onToggle(t)})("reset",function(){return e.onReset()}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&t&&(g.xp6(4),g.Q6J("fullscreen",!0),g.xp6(5),g.Oqu(g.lcZ(10,9,e.clock)),g.xp6(5),g.Oqu(g.lcZ(15,11,e.timeElapsed)),g.xp6(4),g.Q6J("ngClass",e.intervalTypeTextColor),g.xp6(1),g.Oqu(e.textInfo),g.xp6(6),g.Oqu(e.round),g.xp6(2),g.hij("/",e.initialRounds,""),g.xp6(3),g.Q6J("isBlocked",e.isBlocked)("pause",e.pause))},directives:[l.Gu,l.sr,l.wd,l.W2,l.jY,l.Nd,l.wI,a.mk,y.M],pipes:[T.x],styles:['@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;600;700&display=swap");@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap");.grid[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:100%}.row[_ngcontent-%COMP%]{flex:1 1 auto}.text[_ngcontent-%COMP%]{font-size:2rem;font-family:Roboto,sans-serif}@media (min-width: 540px){.text[_ngcontent-%COMP%]{font-size:4rem}}.text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:3rem;color:var(--ion-color-medium)}.text__sm[_ngcontent-%COMP%]{font-size:2rem}@media (min-width: 540px){.text__sm[_ngcontent-%COMP%]{font-size:3rem}}p[_ngcontent-%COMP%]{margin:0}']}),s)}],v=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[u.Bz.forChild(k)],u.Bz]}),e}(),w=i(4466),_=((r=function e(){t(this,e)}).\u0275fac=function(t){return new(t||r)},r.\u0275mod=g.oAB({type:r}),r.\u0275inj=g.cJS({imports:[[a.ez,c.u5,l.Pc,v,w.m]]}),r)}}])}();