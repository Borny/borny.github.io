(self.webpackChunkionic_timer=self.webpackChunkionic_timer||[]).push([[6282],{9771:function(t,e,i){"use strict";i.r(e),i.d(e,{TabataPageModule:function(){return y}});var o=i(8583),n=i(665),s=i(2593),r=i(1323),l=i(4762),c=i(945),a=i(8307),u=i(8720);let p=(()=>{class t{constructor(t){this.modalCtrl=t}onDismiss(){this.modalCtrl.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(s.IN))},t.\u0275cmp=u.Xpm({type:t,selectors:[["ng-component"]],decls:8,vars:1,consts:[["slot","primary"],[3,"click"],["name","close","slot","icon-only"],[3,"fullscreen"]],template:function(t,e){1&t&&(u.TgZ(0,"ion-header"),u.TgZ(1,"ion-toolbar"),u.TgZ(2,"ion-title"),u._uU(3,"New Tabata"),u.qZA(),u.TgZ(4,"ion-buttons",0),u.TgZ(5,"ion-button",1),u.NdJ("click",function(){return e.onDismiss()}),u._UZ(6,"ion-icon",2),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u._UZ(7,"ion-content",3)),2&t&&(u.xp6(7),u.Q6J("fullscreen",!0))},directives:[s.Gu,s.sr,s.wd,s.Sm,s.YG,s.gu,s.W2],encapsulation:2}),t})();var h=(()=>(function(t){t.getReady="Get ready",t.work="Work",t.rest="Rest",t.done="Done"}(h||(h={})),h))(),d=(()=>(function(t){t[t.getReady=0]="getReady",t[t.work=1]="work",t[t.rest=2]="rest"}(d||(d={})),d))(),g=i(996),m=i(5161);const Z=[{path:"",component:(()=>{class t{constructor(t){this.modalCtrl=t,this.round=1,this.clock=10,this.timeElapsed=0,this.pause=!0,this.isBlocked=!1,this.initialRounds=8,this.isDone=!1,this.intervalTypeTextColor="warning-color",this._initialClock=this.clock,this.TAP_SOUND="../../assets/sounds/button-50.mp3"}ngOnInit(){this._audio=new Audio(this.TAP_SOUND),this.textInfo=h.getReady,this.intervalType=d.getReady}ionViewDidLeave(){this.onReset()}ngOnDestroy(){this.onReset()}onCreateTabata(){this.onReset(),this.modalCtrl.create({keyboardClose:!0,component:p,id:"createTimer"}).then(t=>(0,l.mG)(this,void 0,void 0,function*(){t.present(),this.pause=!0;const{data:e}=yield t.onWillDismiss();e&&(console.log("data: ",e),this._initialClock=e.timer,this.initialRounds=e.rounds,this.clock=e.timer)}))}onToggle(t){this.pause=t,t?this.intervalObs$.unsubscribe():this.intervalObs$=(0,c.F)(1e3).pipe((0,a.b)(()=>{this.clock--,this.timeElapsed++,this.clock>=1&&this.clock<=3&&this._playSound(),this.clock<1&&this.intervalType===d.rest&&this._roundsCount(),(this.intervalType===d.getReady||this.intervalType===d.rest)&&this.clock<1?(this.textInfo=h.work,this.intervalType=d.work,this.clock=20,this.intervalTypeTextColor="primary-color"):this.intervalType===d.work&&this.clock<1&&(this.textInfo=h.rest,this.intervalType=d.rest,this.clock=10,this.intervalTypeTextColor="success-color"),console.log(this.clock)})).subscribe(()=>{})}onReset(){this.intervalObs$&&this.intervalObs$.unsubscribe(),this.pause=!0,this.isBlocked=!1,this.clock=this._initialClock,this.round=1,this.timeElapsed=0,this.intervalType=d.getReady,this.textInfo=h.getReady,this.intervalTypeTextColor="warning-color"}_playSound(){this._audio.play()}_roundsCount(){this.round<this.initialRounds?this.round++:(this.intervalObs$.unsubscribe(),this.textInfo=h.done,this.pause=!0,this.isBlocked=!0)}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(s.IN))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-tabata"]],decls:31,vars:13,consts:[[3,"fullscreen"],[1,"grid","ion-text-center","grid"],[1,"row","ion-align-items-center"],["size","12","size-sm","6","offset-sm","3"],[1,"text"],[1,"text__sm"],["size","12"],[1,"text",3,"ngClass"],["size","12","size-sm","6","offset-sm","3",1,"ion-padding-vertical"],[3,"isBlocked","pause","toggle","reset"]],template:function(t,e){1&t&&(u.TgZ(0,"ion-header"),u.TgZ(1,"ion-toolbar"),u.TgZ(2,"ion-title"),u._uU(3,"Tabata"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(4,"ion-content",0),u.TgZ(5,"ion-grid",1),u.TgZ(6,"ion-row",2),u.TgZ(7,"ion-col",3),u.TgZ(8,"p",4),u._uU(9),u.ALo(10,"timeFormat"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(11,"ion-row",2),u.TgZ(12,"ion-col",3),u.TgZ(13,"p",5),u._uU(14),u.ALo(15,"timeFormat"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(16,"ion-row",2),u.TgZ(17,"ion-col",6),u.TgZ(18,"p",7),u._uU(19),u.qZA(),u.qZA(),u.qZA(),u.TgZ(20,"ion-row",2),u.TgZ(21,"ion-col",3),u.TgZ(22,"p",4),u._uU(23,"Round"),u.qZA(),u.TgZ(24,"p",4),u._uU(25),u.TgZ(26,"span"),u._uU(27),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(28,"ion-row"),u.TgZ(29,"ion-col",8),u.TgZ(30,"player-controls",9),u.NdJ("toggle",function(t){return e.onToggle(t)})("reset",function(){return e.onReset()}),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(4),u.Q6J("fullscreen",!0),u.xp6(5),u.Oqu(u.lcZ(10,9,e.clock)),u.xp6(5),u.Oqu(u.lcZ(15,11,e.timeElapsed)),u.xp6(4),u.Q6J("ngClass",e.intervalTypeTextColor),u.xp6(1),u.Oqu(e.textInfo),u.xp6(6),u.Oqu(e.round),u.xp6(2),u.hij("/",e.initialRounds,""),u.xp6(3),u.Q6J("isBlocked",e.isBlocked)("pause",e.pause))},directives:[s.Gu,s.sr,s.wd,s.W2,s.jY,s.Nd,s.wI,o.mk,g.M],pipes:[m.x],styles:['@import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;600;700&display=swap");@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap");.grid[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:100%}.row[_ngcontent-%COMP%]{flex:1 1 auto}.text[_ngcontent-%COMP%]{font-size:3rem;font-family:Roboto,sans-serif}@media (min-width: 540px){.text[_ngcontent-%COMP%]{font-size:4rem}}.text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--ion-color-medium)}.text__sm[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:2rem}@media (min-width: 540px){.text__sm[_ngcontent-%COMP%]{font-size:3rem}}p[_ngcontent-%COMP%]{margin:0}']}),t})()}];let T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[r.Bz.forChild(Z)],r.Bz]}),t})();var f=i(4466);let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[o.ez,n.u5,s.Pc,T,f.m]]}),t})()}}]);