(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{FXbF:function(n,o,e){"use strict";e.r(o),e.d(o,"TimerPageModule",function(){return N});var i=e("ofXK"),t=e("3Pt+"),s=e("TEn/"),r=e("mrSG"),c=e("C6fG"),l=e("fXoL"),a=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}Object(r.c)(o,n),o.prototype.keepAwake=function(){return Object(c.cordova)(this,"keepAwake",{},arguments)},o.prototype.allowSleepAgain=function(){return Object(c.cordova)(this,"allowSleepAgain",{},arguments)},o.pluginName="Insomnia",o.plugin="cordova-plugin-insomnia",o.pluginRef="plugins.insomnia",o.repo="https://github.com/EddyVerbruggen/Insomnia-PhoneGap-Plugin",o.platforms=["Android","Browser","Firefox OS","iOS","Windows","Windows Phone 8"],o.\u0275fac=function(n){return e(n||o)},o.\u0275prov=l.Fb({token:o,factory:function(n){return o.\u0275fac(n)}});var e=l.Qb(o);return o}(c.IonicNativePlugin),b=e("tyNb"),u=e("l5mm"),d=e("vkgz");const m=["createTimerForm"];let h=(()=>{class n{constructor(n){this.modalCtrl=n,this.roundsNumber=1,this.defaultTime="00:00:00"}onDismiss(){this.modalCtrl.dismiss()}onCreateTimer(n){const o=this.createTimerFormRef.value.fullTime.split(":");this.modalCtrl.dismiss({totalSeconds:60*+o[1]+ +o[2],rounds:this.createTimerFormRef.value.rounds},"confirm","createTimer")}onRemoveRound(){this.roundsNumber--}onAddRound(){this.roundsNumber++}}return n.\u0275fac=function(o){return new(o||n)(l.Jb(s.w))},n.\u0275cmp=l.Db({type:n,selectors:[["ng-component"]],viewQuery:function(n,o){if(1&n&&l.oc(m,!0),2&n){let n;l.fc(n=l.Xb())&&(o.createTimerFormRef=n.first)}},decls:33,vars:6,consts:[["slot","primary"],[3,"click"],["name","close","slot","icon-only"],[3,"fullscreen"],[3,"submit"],["createTimerForm","ngForm"],["size-sm","6","offset-sm","3",1,"display-flex"],[1,"container","display-flex"],["displayFormat","mm:ss","placeholder","Choose a time","name","fullTime",3,"ngModel","ngModelChange"],["fullTime","ngModel"],[1,"display-block"],[1,"display-block","rounds-number"],["type","number","name","rounds","min","0","placeholder","0",1,"ion-hide",3,"ngModel","ngModelChange"],["rounds","ngModel"],[1,"cta"],["type","button","color","medium   ",3,"disabled","click"],["name","remove-outline","slot","icon-only"],["type","button","color","light",3,"click"],["name","add","slot","icon-only"],["type","submit","expand","block","color","primary",3,"disabled"]],template:function(n,o){if(1&n){const n=l.Pb();l.Ob(0,"ion-header"),l.Ob(1,"ion-toolbar"),l.Ob(2,"ion-title"),l.lc(3,"New timer"),l.Nb(),l.Ob(4,"ion-buttons",0),l.Ob(5,"ion-button",1),l.Wb("click",function(){return o.onDismiss()}),l.Kb(6,"ion-icon",2),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Ob(7,"ion-content",3),l.Ob(8,"form",4,5),l.Wb("submit",function(){l.hc(n);const e=l.gc(9);return o.onCreateTimer(e)}),l.Ob(10,"ion-grid"),l.Ob(11,"ion-row"),l.Ob(12,"ion-col",6),l.Ob(13,"div",7),l.Ob(14,"ion-item"),l.Ob(15,"ion-label"),l.lc(16,"Round duration"),l.Nb(),l.Ob(17,"ion-datetime",8,9),l.Wb("ngModelChange",function(n){return o.defaultTime=n}),l.Nb(),l.Nb(),l.Nb(),l.Ob(19,"div",7),l.Ob(20,"ion-text",10),l.lc(21,"ROUNDS"),l.Nb(),l.Ob(22,"ion-text",11),l.lc(23),l.Nb(),l.Ob(24,"ion-input",12,13),l.Wb("ngModelChange",function(n){return o.roundsNumber=n}),l.Nb(),l.Ob(26,"div",14),l.Ob(27,"ion-button",15),l.Wb("click",function(){return o.onRemoveRound()}),l.Kb(28,"ion-icon",16),l.Nb(),l.Ob(29,"ion-button",17),l.Wb("click",function(){return o.onAddRound()}),l.Kb(30,"ion-icon",18),l.Nb(),l.Nb(),l.Nb(),l.Ob(31,"ion-button",19),l.lc(32,"Create"),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Nb()}if(2&n){const n=l.gc(9);l.yb(7),l.ec("fullscreen",!0),l.yb(10),l.ec("ngModel",o.defaultTime),l.yb(6),l.mc(o.roundsNumber),l.yb(1),l.ec("ngModel",o.roundsNumber),l.yb(3),l.ec("disabled",o.roundsNumber<=1),l.yb(4),l.ec("disabled",n.invalid)}},directives:[s.h,s.t,s.s,s.c,s.b,s.i,s.e,t.g,t.d,t.e,s.g,s.n,s.d,s.k,s.l,s.f,s.z,t.c,t.f,s.r,s.j,s.x],styles:["form[_ngcontent-%COMP%], ion-grid[_ngcontent-%COMP%], ion-row[_ngcontent-%COMP%]{height:100%}.display-block[_ngcontent-%COMP%]{display:block;text-align:center}.display-flex[_ngcontent-%COMP%]{display:flex;flex-flow:column}.container[_ngcontent-%COMP%]{flex:1 1 auto}.rounds-number[_ngcontent-%COMP%]{font-size:3rem}.cta[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;flex:1 1 auto;align-items:center}"]}),n})();var p=e("K1R0"),f=e("mlae"),g=e("dDfN");const O=[{path:"",component:(()=>{class n{constructor(n,o){this.insomnia=n,this.modalCtrl=o,this.rounds=1,this.clock=70,this.pause=!0,this.isBlocked=!1,this.initialRounds=this.rounds,this.isDone=!1,this.radius=100,this.percent=0,this.progress=1,this._initialClock=this.clock,this.TAP_SOUND="../../assets/sounds/button-50.mp3"}ngOnInit(){this._audio=new Audio(this.TAP_SOUND)}ionViewDidLeave(){this.onReset()}ngOnDestroy(){this.onReset()}onCreateTimer(){this.onReset(),this.modalCtrl.create({keyboardClose:!0,component:h,id:"createTimer"}).then(n=>Object(r.a)(this,void 0,void 0,function*(){n.present(),this.pause=!0;const{data:o}=yield n.onWillDismiss();o&&(0!==o.totalSeconds&&(this._initialClock=o.totalSeconds,this.clock=o.totalSeconds),this.initialRounds=o.rounds)}))}onToggle(n){this.pause=!this.pause,this.pause&&this.intervalObs$?this.intervalObs$.unsubscribe():this.intervalObs$=Object(u.a)(1e3).pipe(Object(d.a)(()=>{this.percent=Math.floor(this.progress/this._initialClock*100),this.progress++,this.clock--,this.clock>=1&&this.clock<=3&&this._playSound(),this.clock<0&&this.initialRounds>1?this._roundsCount():this.clock<0&&(this.pause=!0,this.isBlocked=!0,this.intervalObs$.unsubscribe()),this.insomnia.keepAwake()})).subscribe(()=>{})}onReset(){this.intervalObs$&&this.intervalObs$.unsubscribe(),this.pause=!0,this.isBlocked=!1,this.clock=this._initialClock,this.rounds=1,this.percent=0,this.progress=1,this.insomnia.allowSleepAgain()}_playSound(){this._audio.play()}_roundsCount(){this.progress=1,this.percent=0,this.rounds<this.initialRounds?(this.clock=this._initialClock,this.rounds++):(this.intervalObs$.unsubscribe(),this.pause=!0,this.isBlocked=!0)}}return n.\u0275fac=function(o){return new(o||n)(l.Jb(a),l.Jb(s.w))},n.\u0275cmp=l.Db({type:n,selectors:[["app-timer"]],decls:28,vars:19,consts:[["slot","primary"],[3,"click"],["color","primary","name","add","slot","icon-only"],[3,"fullscreen"],[1,"grid","ion-text-center","grid"],[1,"row","ion-align-items-center"],["size","12","size-sm","6","offset-sm","3"],[1,"clock"],[3,"percent","radius","outerStrokeWidth","innerStrokeWidth","outerStrokeColor","innerStrokeColor","animation","animationDuration","showTitle","showUnits","showSubtitle","click"],["size","12","size-sm","6","offset-sm","3",1,"ion-padding-vertical"],[3,"isBlocked","pause","toggle","reset"]],template:function(n,o){1&n&&(l.Ob(0,"ion-header"),l.Ob(1,"ion-toolbar"),l.Ob(2,"ion-title"),l.lc(3,"Timer"),l.Nb(),l.Ob(4,"ion-buttons",0),l.Ob(5,"ion-button",1),l.Wb("click",function(){return o.onCreateTimer()}),l.Kb(6,"ion-icon",2),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Ob(7,"ion-content",3),l.Ob(8,"ion-grid",4),l.Ob(9,"ion-row",5),l.Ob(10,"ion-col",6),l.Ob(11,"p",7),l.lc(12),l.ac(13,"timeFormat"),l.Nb(),l.Nb(),l.Nb(),l.Ob(14,"ion-row"),l.Ob(15,"ion-col",6),l.Ob(16,"circle-progress",8),l.Wb("click",function(){return o.onToggle()}),l.Nb(),l.Nb(),l.Nb(),l.Ob(17,"ion-row",5),l.Ob(18,"ion-col",6),l.Ob(19,"p",7),l.lc(20,"Round"),l.Nb(),l.Ob(21,"p",7),l.lc(22),l.Ob(23,"span"),l.lc(24),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Ob(25,"ion-row"),l.Ob(26,"ion-col",9),l.Ob(27,"player-controls",10),l.Wb("toggle",function(n){return o.onToggle(n)})("reset",function(){return o.onReset()}),l.Nb(),l.Nb(),l.Nb(),l.Nb(),l.Nb()),2&n&&(l.yb(7),l.ec("fullscreen",!0),l.yb(5),l.mc(l.bc(13,17,o.clock)),l.yb(4),l.ec("percent",o.percent)("radius",o.radius)("outerStrokeWidth",16)("innerStrokeWidth",8)("outerStrokeColor","#428cff")("innerStrokeColor","#50c8ff")("animation",!1)("animationDuration",300)("showTitle",!1)("showUnits",!1)("showSubtitle",!1),l.yb(6),l.mc(o.rounds),l.yb(2),l.nc("/",o.initialRounds,""),l.yb(3),l.ec("isBlocked",o.isBlocked)("pause",o.pause))},directives:[s.h,s.t,s.s,s.c,s.b,s.i,s.e,s.g,s.n,s.d,p.a,f.a],pipes:[g.a],styles:[".grid[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:100%}.row[_ngcontent-%COMP%]{flex:1 1 auto}.clock[_ngcontent-%COMP%]{font-size:4rem}@media (min-width:540px){.clock[_ngcontent-%COMP%]{font-size:5rem}}.clock[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:3rem;color:var(--ion-color-medium)}p[_ngcontent-%COMP%]{margin:0}"]}),n})()}];let k=(()=>{class n{}return n.\u0275mod=l.Hb({type:n}),n.\u0275inj=l.Gb({factory:function(o){return new(o||n)},imports:[[b.i.forChild(O)],b.i]}),n})();var y=e("PCNd");let N=(()=>{class n{}return n.\u0275mod=l.Hb({type:n}),n.\u0275inj=l.Gb({factory:function(o){return new(o||n)},providers:[a],imports:[[i.b,t.a,s.u,k,y.a]]}),n})()}}]);