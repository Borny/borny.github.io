(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{ckxJ:function(t,e,i){"use strict";i.r(e),i.d(e,"TabataPageModule",function(){return g});var n=i("ofXK"),o=i("3Pt+"),s=i("TEn/"),r=i("tyNb"),c=i("mrSG"),l=i("l5mm"),a=i("vkgz"),b=i("fXoL");let u=(()=>{class t{constructor(t){this.modalCtrl=t}onDismiss(){this.modalCtrl.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(b.Jb(s.w))},t.\u0275cmp=b.Db({type:t,selectors:[["ng-component"]],decls:8,vars:1,consts:[["slot","primary"],[3,"click"],["name","close","slot","icon-only"],[3,"fullscreen"]],template:function(t,e){1&t&&(b.Ob(0,"ion-header"),b.Ob(1,"ion-toolbar"),b.Ob(2,"ion-title"),b.lc(3,"New Tabata"),b.Nb(),b.Ob(4,"ion-buttons",0),b.Ob(5,"ion-button",1),b.Wb("click",function(){return e.onDismiss()}),b.Kb(6,"ion-icon",2),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Kb(7,"ion-content",3)),2&t&&(b.yb(7),b.ec("fullscreen",!0))},directives:[s.h,s.t,s.s,s.c,s.b,s.i,s.e],encapsulation:2}),t})();var h=function(t){return t.getReady="Get ready",t.work="Work",t.rest="Rest",t.done="Done",t}({}),d=function(t){return t[t.getReady=0]="getReady",t[t.work=1]="work",t[t.rest=2]="rest",t}({}),p=i("mlae"),m=i("dDfN");const y=[{path:"",component:(()=>{class t{constructor(t){this.modalCtrl=t,this.round=1,this.clock=10,this.timeElapsed=0,this.pause=!0,this.isBlocked=!1,this.initialRounds=8,this.isDone=!1,this.intervalTypeTextColor="warning-color",this._initialClock=this.clock,this.TAP_SOUND="../../assets/sounds/button-50.mp3"}ngOnInit(){this._audio=new Audio(this.TAP_SOUND),this.textInfo=h.getReady,this.intervalType=d.getReady}ionViewDidLeave(){this.onReset()}ngOnDestroy(){this.onReset()}onCreateTabata(){this.onReset(),this.modalCtrl.create({keyboardClose:!0,component:u,id:"createTimer"}).then(t=>Object(c.a)(this,void 0,void 0,function*(){t.present(),this.pause=!0;const{data:e}=yield t.onWillDismiss();e&&(console.log("data: ",e),this._initialClock=e.timer,this.initialRounds=e.rounds,this.clock=e.timer)}))}onToggle(t){this.pause=t,t?this.intervalObs$.unsubscribe():this.intervalObs$=Object(l.a)(1e3).pipe(Object(a.a)(()=>{this.clock--,this.timeElapsed++,this.clock>=1&&this.clock<=3&&this._playSound(),this.clock<1&&this.intervalType===d.rest&&this._roundsCount(),(this.intervalType===d.getReady||this.intervalType===d.rest)&&this.clock<1?(this.textInfo=h.work,this.intervalType=d.work,this.clock=20,this.intervalTypeTextColor="primary-color"):this.intervalType===d.work&&this.clock<1&&(this.textInfo=h.rest,this.intervalType=d.rest,this.clock=10,this.intervalTypeTextColor="success-color"),console.log(this.clock)})).subscribe(()=>{})}onReset(){this.intervalObs$&&this.intervalObs$.unsubscribe(),this.pause=!0,this.isBlocked=!1,this.clock=this._initialClock,this.round=1,this.timeElapsed=0,this.intervalType=d.getReady,this.textInfo=h.getReady,this.intervalTypeTextColor="warning-color"}_playSound(){this._audio.play()}_roundsCount(){this.round<this.initialRounds?this.round++:(this.intervalObs$.unsubscribe(),this.textInfo=h.done,this.pause=!0,this.isBlocked=!0)}}return t.\u0275fac=function(e){return new(e||t)(b.Jb(s.w))},t.\u0275cmp=b.Db({type:t,selectors:[["app-tabata"]],decls:34,vars:13,consts:[["slot","primary"],[3,"click"],["color","primary","name","add","slot","icon-only"],[3,"fullscreen"],[1,"grid","ion-text-center","grid"],[1,"row","ion-align-items-center"],["size","12","size-sm","6","offset-sm","3"],[1,"text"],[1,"text__sm"],[1,"text",3,"ngClass"],["size","12","size-sm","6","offset-sm","3",1,"ion-padding-vertical"],[3,"isBlocked","pause","toggle","reset"]],template:function(t,e){1&t&&(b.Ob(0,"ion-header"),b.Ob(1,"ion-toolbar"),b.Ob(2,"ion-title"),b.lc(3,"Tabata"),b.Nb(),b.Ob(4,"ion-buttons",0),b.Ob(5,"ion-button",1),b.Wb("click",function(){return e.onCreateTabata()}),b.Kb(6,"ion-icon",2),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(7,"ion-content",3),b.Ob(8,"ion-grid",4),b.Ob(9,"ion-row",5),b.Ob(10,"ion-col",6),b.Ob(11,"p",7),b.lc(12),b.ac(13,"timeFormat"),b.Nb(),b.Nb(),b.Nb(),b.Ob(14,"ion-row",5),b.Ob(15,"ion-col",6),b.Ob(16,"p",8),b.lc(17),b.ac(18,"timeFormat"),b.Nb(),b.Nb(),b.Nb(),b.Ob(19,"ion-row",5),b.Ob(20,"ion-col",6),b.Ob(21,"p",9),b.lc(22),b.Nb(),b.Nb(),b.Nb(),b.Ob(23,"ion-row",5),b.Ob(24,"ion-col",6),b.Ob(25,"p",7),b.lc(26,"Round"),b.Nb(),b.Ob(27,"p",7),b.lc(28),b.Ob(29,"span"),b.lc(30),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(31,"ion-row"),b.Ob(32,"ion-col",10),b.Ob(33,"player-controls",11),b.Wb("toggle",function(t){return e.onToggle(t)})("reset",function(){return e.onReset()}),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&t&&(b.yb(7),b.ec("fullscreen",!0),b.yb(5),b.mc(b.bc(13,9,e.clock)),b.yb(5),b.mc(b.bc(18,11,e.timeElapsed)),b.yb(4),b.ec("ngClass",e.intervalTypeTextColor),b.yb(1),b.nc(" ",e.textInfo," "),b.yb(6),b.mc(e.round),b.yb(2),b.nc("/",e.initialRounds,""),b.yb(3),b.ec("isBlocked",e.isBlocked)("pause",e.pause))},directives:[s.h,s.t,s.s,s.c,s.b,s.i,s.e,s.g,s.n,s.d,n.h,p.a],pipes:[m.a],styles:[".grid[_ngcontent-%COMP%]{display:flex;flex-flow:column;height:100%}.row[_ngcontent-%COMP%]{flex:1 1 auto}.text[_ngcontent-%COMP%]{font-size:4rem}@media (min-width:540px){.text[_ngcontent-%COMP%]{font-size:5rem}}.text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:3rem;color:var(--ion-color-medium)}.text__sm[_ngcontent-%COMP%]{font-size:2rem}@media (min-width:540px){.text__sm[_ngcontent-%COMP%]{font-size:3rem}}p[_ngcontent-%COMP%]{margin:0}"]}),t})()}];let O=(()=>{class t{}return t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({factory:function(e){return new(e||t)},imports:[[r.i.forChild(y)],r.i]}),t})();var f=i("PCNd");let g=(()=>{class t{}return t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({factory:function(e){return new(e||t)},imports:[[n.b,o.a,s.u,O,f.a]]}),t})()}}]);